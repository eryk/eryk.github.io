<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"xuqi365.com","root":"/","scheme":"Gemini","version":"7.7.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Python量化交易实战">
<meta property="og:url" content="http://xuqi365.com/page/6/index.html">
<meta property="og:site_name" content="Python量化交易实战">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="eryk">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://xuqi365.com/page/6/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>Python量化交易实战</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Python量化交易实战" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Python量化交易实战</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://xuqi365.com/2018/12/12/2018-12-12/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="Author">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Python量化交易实战">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2018/12/12/2018-12-12/" class="post-title-link" itemprop="url">解决ssh登录ubuntu系统卡顿问题</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-12-12 10:59:00" itemprop="dateCreated datePublished" datetime="2018-12-12T10:59:00+08:00">2018-12-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-02-09 01:11:25" itemprop="dateModified" datetime="2020-02-09T01:11:25+08:00">2020-02-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%B3%BB%E7%BB%9F%E8%BF%90%E7%BB%B4/" itemprop="url" rel="index">
                    <span itemprop="name">系统运维</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>我的微信公众号：pyquant</p>
<p><img src="https://raw.githubusercontent.com/eryk/blog_img/master/20190424095328.jpg" alt=""></p>
<p>最近某天突然登录服务器变的很慢，输入ssh命令后大概要多10多秒钟才连上服务器（设置了免密码登录），并且登录之后切换到root用户也要等很久，网上搜索发现也有其他人遇到类似问题，尝试了网上提到的设置ssh_config和sshd_config的某些参数没有明显变化，登录服务器依旧很慢，最终发现问题还是通过自己排查，这里记录下排查过程。</p>
<p>先执行ssh命令登录服务器，增加 -v 参数打印debug信息：</p>
<blockquote>
<p>ssh -v <a href="mailto:xuqi@10.168.2.178">xuqi@10.168.2.178</a></p>
</blockquote>
<p>发现在执行到“debug1: pledge: network” 这步时卡住很久，再google一次，找到了解决办法，执行如下命令后，登录时间明显缩短到约2秒钟</p>
<blockquote>
<p>systemctl restart systemd-logind</p>
</blockquote>
<p>大致的原因是dbus服务由于某些原因重启后，也必须重启systemd服务，否则就会出现这个bug。</p>
<h3 id="参考">参考</h3>
<p><a href="https://serverfault.com/questions/792486/ssh-connection-takes-forever-to-initiate-stuck-at-pledge-network" target="_blank" rel="noopener">https://serverfault.com/questions/792486/ssh-connection-takes-forever-to-initiate-stuck-at-pledge-network</a></p>

      

<img src="https://eryk.github.io/uploads/gzh.jpg"  alt="Python量化交易实战" /><center>欢迎您扫码订阅我的微信公众号: pyquant</center>
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://xuqi365.com/2018/08/13/2018-08-14/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="Author">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Python量化交易实战">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2018/08/13/2018-08-14/" class="post-title-link" itemprop="url">股指期货概念介绍</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-08-13 10:40:00" itemprop="dateCreated datePublished" datetime="2018-08-13T10:40:00+08:00">2018-08-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-02-09 01:11:25" itemprop="dateModified" datetime="2020-02-09T01:11:25+08:00">2020-02-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%87%91%E8%9E%8D/" itemprop="url" rel="index">
                    <span itemprop="name">金融</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>我的微信公众号：pyquant</p>
<p><img src="https://raw.githubusercontent.com/eryk/blog_img/master/20190424095328.jpg" alt=""></p>
<h1>概念</h1>
<p>股指期货（Stock Index Futures）的全称是股价指数期货，也可称为股价指数期货、期指，是指以股价指数为标的物的标准化期货合约，双方约定在未来的某个特定日期，可以按照事先确定的股价指数的大小，进行标的指数的买卖。期货分为商品期货和金融期货，股指期货属于金融期货，作为期货交易的一种类型，股指期货交易与普通商品期货交易具有基本相同的特征和流程。</p>
<h1>主要作用</h1>
<ol>
<li>
<p>规避投资风险</p>
<p>当投资者不看好股市,可以通过股指期货的套期保值功能在期货上做空,锁定股票的账面盈利,从而不必将所持股票抛出,造成股市恐慌性下跌</p>
</li>
<li>
<p>套利</p>
<p>所谓套利，就是利用股指期货和现货指数基差在交割日必然收敛归零的原理,当期货升水超过一定幅度时通过做空股指期货并同时买入股指期货标的指数成分股，或者当期货贴水超过一定幅度时通过做多股指期货并同时进行融券卖空股票指数ETF，来获得无风险收益。</p>
</li>
<li>
<p>降低股市波动性</p>
<p>股指期货可以降低股市的日均振幅和月线平均振幅,抑制股市非理性波动,比如股指期货推出之前的五年里沪深300指数日均振幅为2.51%月线平均振幅为14.9%,推出之后的五年里日均振幅为1.95%月线平均振幅为10.7%,双双出现显著下降</p>
</li>
<li>
<p>丰富投资策略</p>
<p>股指期货等金融衍生品为投资者提供了风险对冲工具，可以丰富不同的投资策略，改变目前股市交易策略一致性的现状，为投资者提供多样化的财富管理工具，以实现长期稳定的收益目标。</p>
</li>
</ol>
<h1>风险</h1>
<p>除了金融衍生产品的一般性风险外，由于标的物自身的特点和合约设计过程中的特殊性，股指期货还具有一些特定的风险。</p>
<h3 id="基差风险">基差风险</h3>
<p>基差是某一特定地点某种商品的现货价格与同种商品的某一特定期货合约价格之间的价差。基差=现货价格-期货价格。</p>
<h3 id="合约品种差异造成的风险">合约品种差异造成的风险</h3>
<p>合约品种差异造成的风险，是指类似的合约品种，如日经225种股指期货和东京证券股指期货，在相同因素的影响下，价格变动不同。表现为两种情况：<br>
1〉是价格变动的方向相反。<br>
2〉是价格变动的幅度不同。类似合约品种的价格，在相同因素作用下变动幅度上的差异，也构成了合约品种差异的风险。</p>
<h3 id="标的物风险">标的物风险</h3>
<p>股指期货的标的物是市场上各种股票的价格总体水平，由于标的物设计的特殊性，是其特定风险无法完全锁定的原因。从套期保值的技术角度来看，商品期货、利率期货和外汇期货的套期保值者，都可以在一定期限内，通过建立现货与期货合约数量上的一致性、交易方向上的相反性来彻底锁定风险。而股指期货由于标的物的特殊性，使现货和期货合约数量上的一致仅具有理论上的意义，而不具有现实操作性。因为，股票指数设计中的综合性，以及设计中权重因素的考虑，使得在股票现货组合中，当股票品种和权数完全与指数一致时，才能真正做到完全锁定风险，而这在实际操作中的可行性几乎是零。因此，股指期货标的物的特殊性，使完全意义上的期货与现货间的套期保值成为不可能，因而风险将一直存在。</p>
<h3 id="交割制度风险">交割制度风险</h3>
<p>股指期货采用现金交割的方式完成清算。相对于其他结合实物交割进行清算的金融衍生产品而言，存在更大的交割制度风险。如在利率期货交易中，符合规格的债券现货，无论如何也可以满足一部分交割要求。股指期货则只能是百分之百的现金交割，而不可能以对应股票完成清算。</p>
<h1>规则制度</h1>
<h3 id="合约价值">合约价值</h3>
<p>沪深300和上证50一个点是300元，中证500是200元</p>
<h3 id="保证金">保证金</h3>
<p>投资者在进行期货交易时，必须按照其买卖期货合约价值的一定比例来缴纳资金，作为履行期货合约的财力保证，然后才能参与期货合约的买卖。这笔资金就是我们常说的保证金。</p>
<p>买卖一手股指期货合约占用的保证金比例一般为合约价值的10%-20%(具体由交易所规定)，自20170918起中金所将保证金比例调整为15%，假如沪深300指数为3900点，相当于3900*300*15%=17.5万元，但在开户时账户上必须有50万的资金，完成开户验资过后留够一手保证金加上一定的余额即可，所以大致需要20万以上的资金，而中证50期指大致需要50万资金，上证50期指大致需要15万的资金。</p>
<h3 id="手续费">手续费</h3>
<p>在正常情况下手续费为合约价值的万分之零点七，比如20150302沪深300指数点位为3600点，手续费为万分之零点七，即3600*300*0.00007=75元，</p>
<p>20170918起平今仓手续费调整为万分之六点九，假设沪深300指数为3900点，当天买入且当天卖出一手沪深300期指需要付出3900*300*0.00069=807元的手续费，平昨仓手续费依然是万分之零点七，即昨天买入今天卖出一手沪深300期指的手续费为3900*300*0.00007=82元，等同于变相抑制T+0。</p>
<h3 id="结算制度">结算制度</h3>
<p>每日无负债结算制度也称为“逐日盯市”制度，简单说来，就是期货交易所要根据每日市场的价格波动对投资者所持有的合约计算盈亏并划转保证金账户中相应的资金。</p>
<p>期货交易实行分级结算，交易所首先对其结算会员进行结算，结算会员再对非结算会员及其客户进行结算。交易所在每日交易结束后，按当日结算价格结算所有未平仓合约的盈亏、交易保证金及手续费、税金等费用，对应收应付的款项同时划转，相应增加或减少会员的结算准备金。</p>
<p>交易所将结算结果通知结算会员后，结算会员再根据交易所的结算结果对非结算会员及客户进行结算，并将结算结果及时通知非结算会员及客户。若经结算，会员的保证金不足，交易所应立即向会员发出追加保证金通知，会员应在规定时间内向交易所追加保证金。若客户的保证金不足，期货公司应立即向客户发出追加保证金通知，客户应在规定时间内追加保证金。投资者可在每日交易结束后上网查询账户的盈亏，确定是否需要追加保证金或转出盈利。</p>
<h3 id="交易规则">交易规则</h3>
<ul>
<li>
<p>交易时间: 周一至周五，上午：9:30-11:30，下午：13:00-15:00</p>
</li>
<li>
<p>涨跌幅: 上一个交易日收盘价的±10%</p>
</li>
<li>
<p>最大下单数</p>
<p>中金所暂时规定限价指令每次最大下单数量为20手，市价指令每次最大下单数量为10手,进行投机交易的客户单个合约的最大持仓限额为5000手,单个账户日内交易超过20手视为过度交易行为，套期保值交易开仓数量和持仓数量不受此限.</p>
</li>
<li>
<p>合约代码</p>
<ul>
<li>沪深300股指期货：IF</li>
<li>中证500股指期货：IC</li>
<li>上证50股指期货：IH</li>
</ul>
</li>
<li>
<p>合约类型</p>
<ul>
<li>当月现货合约</li>
<li>下月</li>
<li>下季</li>
<li>隔季</li>
</ul>
<p>随着每个月的交割以后，进行一次合约的滚动推进。比如在九月份，就具有九月、十月、十二月和次年三月四个合约进行交易，在十月底需要对十月合约进行交割。</p>
</li>
<li>
<p>T + 0</p>
<p>T+0即当日买进当日卖出,没有时间和次数限制,而T+1即当日买进,次日卖出,买进的当日不能当日卖出,当前期货交易一律实行T+0交易,大部分国家的股票交易也是T+0的,我国的股票市场由于历史原因而实行T+1交易制度。</p>
</li>
<li>
<p>卖空</p>
<p>股指期货合约可以十分方便地卖空，等价格回落后再买回。股票融券交易也可以卖空，但难度相对较大。当然一旦卖空后价格不跌反涨，投资者会面临损失。</p>
</li>
<li>
<p>合约交割</p>
<p>股票买入后可以一直持有，正常情况下股票数量不会减少。但股指期货都有固定的到期日，到期就要进行平仓或者交割。因此交易股指期货不能象买卖股票一样，交易后就不管了，必须注意合约到期日，以决定是平仓，还是等待合约到期进行现金结算交割。</p>
<p>沪深300指数期货会在每个月第三个星期五交割，并且以沪深300现货指数截止15:00之前两个小时的算术平均价作为交割结算价，所以不论平时期货和现货的基差有多大，沪深300指数期货最终必然会强制向沪深300现货指数收敛归零，导致期货会紧跟现货指数，具有很强的联动性，就好比小狗跟着主人散步时一样，小狗有时候会跑在主人前面，有时会在主人后面，但最终前进方向是由主人决定的，套利机制就是那根狗绳。</p>
</li>
<li>
<p>合约结算</p>
<p>股指期货合约采用保证金交易，一般只要付出合约面值约10-15%的资金就可以买卖一张合约，这一方面提高了盈利的空间，但另一方面也带来了风险，因此必须每日结算盈亏。买入股票后在卖出以前，账面盈亏都是不结算的。但股指期货不同，交易后每天要按照结算价对持有在手的合约进行结算，账面盈利可以提走，但账面亏损第二天开盘前必须补足（即追加保证金）。而且由于是保证金交易，亏损额甚至可能超过你的投资本金，这一点和股票交易不同。</p>
</li>
</ul>
<h3 id="基差">基差</h3>
<p>股指期货合约与对应股票指数之间的价差，基差=现货价格-期货价格，当期货价格高于现货被称为<strong>升水</strong>，当期货价格低于现货价格被称为<strong>贴水</strong>，比如20160302 IF1603股指期货的价格为3009点，沪深300指数为3051点，基差为3051-3009=42点，2015年度沪深300股指期货主力合约与现货指数的平均基差为±1.5%，这是不太正常的，原因在于国内融资与融券的比例失衡，国外的融资和融券比例一般为3:1，而国内达到300:1以上，融资融券比例失衡致使融券套利机制无法发挥正常作用，会导致基差出现偏差。</p>
<h3 id="持仓量">持仓量</h3>
<p>多头和空头尚未平仓的合约总数，比如20160302 IF1603合约的持仓量为3.87万手，2015年沪深300股指期货单边日均持仓量13万手，占用的(双边)保证金规模约500亿元，假设其中一半的空单是套期保值盘则对应的股票市值约700亿元，而沪深300指数300只成分股的股票总市值达20万亿以上，也就是说依靠股指期货对冲风险的股票占比还不到1%，说明国内股指期货的规模依然不够大，需降低门槛让更多的中小投资者能够参与进来.2012年，2013年，2014年，2015年，2016年每月月末平均持仓量分别为78300手，102000手，164000手，131000手，44000手，2012年成交持仓比为5.5，2013年为7.9，2014年为5.4，2015年为8.6，2016年为0.39。</p>
<h3 id="参与主体">参与主体</h3>
<p>套期保值者、投机者、套利者</p>
<h3 id="主要策略">主要策略</h3>
<h4 id="1-套期保值">1. 套期保值</h4>
<p>股指期货套期保值和其他期货套期保值一样，其基本原理是利用股指期货与股票现货之间的类似走势，通过在期货市场进行相应的操作来管理现货市场的头寸风险。</p>
<p>由于股指期货的套利操作，股指期货的价格和股票现货（股票指数）之间的走势是基本一致的，如果两者步调不一致到足够程度，就会引发套利盘入这种情况下，那么如果保值者持有一篮子股票现货，他认为当前股票市场可能会出现下跌，但如果直接卖出股票，他的成本会很高，于是他可以在股指期货市场建立空头，在股票市场出现下跌的时候，股指期货可以获利，以此可以弥补股票出现的损失。这就是所谓的<strong>空头保值</strong>。</p>
<p>另一个基本的套期保值策略是所谓的<strong>多头保值</strong>。一个投资者预期要几个月后有一笔资金投资股票市场，但他觉得如今的股票市场很有吸引力，要等上几个月的话，可能会错失建仓良机，于是他可以在股指期货上先建立多头头寸，等到未来资金到位后，股票市场确实上涨了，建仓成本提高了，但股指期货平仓获得的的盈利可以弥补现货成本的提高，于是该投资者通过股指期货锁定了现货市场的成本。</p>
<h4 id="2-投机交易">2. 投机交易</h4>
<p>股市指数期货提供了很高风险的机会。其中一个简单的投机策略是利用股市指数期货预测市场走势以获取利润。若预期市场价格回升，投资者便购入期货合约并预期期货合约价格将上升，相对于投资股票，其低交易成本及高杠杆比率使股票指数期货更加吸引投资者。他们亦可考虑购入那个交易月份的合约或投资于恒生指数或分类指数期货合约。</p>
<h4 id="3-套利">3. 套利</h4>
<p>针对股指期货与股指现货之间、股指期货不同合约之间的不合理关系进行套利的交易行为。股指期货合约是以股票价格指数作为标的物的金融期货和约，期货指数与现货指数（沪深300）维持一定的动态联系。但是，有时期货指数与现货指数会产生偏离，当这种偏离超出一定的范围时（无套利定价区间的上限和下限），就会产生套利机会。利用期指与现指之间的不合理关系进行套利的交易行为叫<strong>无风险套利（Arbitrage）</strong> ，利用期货合约价格之间不合理关系进行套利交易的称为<strong>价差交易（Spread Trading）</strong>。</p>

      

<img src="https://eryk.github.io/uploads/gzh.jpg"  alt="Python量化交易实战" /><center>欢迎您扫码订阅我的微信公众号: pyquant</center>
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://xuqi365.com/2018/05/25/Okex%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93%E5%85%A5%E9%97%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="Author">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Python量化交易实战">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2018/05/25/Okex%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93%E5%85%A5%E9%97%A8/" class="post-title-link" itemprop="url">Okex合约交易基本概念介绍</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-05-25 10:19:00" itemprop="dateCreated datePublished" datetime="2018-05-25T10:19:00+08:00">2018-05-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-02-09 01:11:25" itemprop="dateModified" datetime="2020-02-09T01:11:25+08:00">2020-02-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%87%91%E8%9E%8D/" itemprop="url" rel="index">
                    <span itemprop="name">金融</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>我的微信公众号：pyquant</p>
<p><img src="https://raw.githubusercontent.com/eryk/blog_img/master/20190424095328.jpg" alt=""></p>
<h3 id="概念">概念</h3>
<p>虚拟合约是合约交易的买卖对象，是由合约交易所统一制定的，规定了某一特定的时间交割一定数量商品的标准化合约。</p>
<p>OKEX的合约是OKEX推出的以BTC/LTC等币种进行结算的虚拟合约产品，每一张合约分别代表100美元的BTC，或10美元的其他币种（LTC,ETH等）,投资者可以通过买入做多合约来获取虚拟数字货币价格上涨的收益，或通过卖出做空来获取虚拟数字货币收益。合约的杠杆倍数为10或20倍。</p>
<p>OKEX在设计虚拟合约时做了相应的调整，每一张合约代表价值100美元的比特币，这样的设计使得虚拟合约的杠杆倍数始终稳定在一个固定值，从而利于套保和套利。</p>
<p>OKEX比特币虚拟合约的杠杆表现为法币收益层面的杠杆稳定：投入100美元，所能得到的收益=100美元 * 比特币的涨跌幅 * 固定的杠杆倍数。</p>
<h3 id="合约类型">合约类型</h3>
<p>目前OKEX根据合约时间长短提供三种合约交易，分别是当周、次周、季度。</p>
<ul>
<li>当周合约：指在距离交易日最近的北京时间周五下午4点进行交割的合约。</li>
<li>次周合约：指在距离交易日最近的北京时间第二个周五下午4点进行交割的合约。</li>
<li>季度合约：指交割日为3,6,9,12月中距离当前最近的一个月份的北京时间最后一个周五下午4点进行交割的合约。</li>
</ul>
<p>新合约将于交割日当日下午16:10开始交易</p>
<h3 id="合约品种">合约品种</h3>
<p>BTC面值为100美元，报价时的最小变动单位为0.01美元,其他币种合约的面值为10美元，报价时的最小变动单位为0.001美元</p>
<p>BTC、LTC、ETH、ETC、BCH、XRP、EOS、BTG</p>
<h3 id="交易规则">交易规则</h3>
<p>买入开多，卖出开空，买入平空，卖出平多</p>
<p>开仓:</p>
<pre><code>未实现盈亏的计算公式：多仓未实现盈亏=（合约面值 / 结算基准价 - 合约面值 / 当前价格）* 持仓数量； 空仓未实现盈亏=（合约面值 / 当前价格 - 合约面值 / 结算基准价）* 持仓数量 
</code></pre>
<p>平仓:</p>
<pre><code>已实现盈亏的计算公式：多仓已实现盈亏=（合约面值 / 结算基准价 -合约面值 /平仓价格） * 平仓数量； 空仓已实现盈亏=（合约面值 / 平仓价格-合约面值 /结算基准价）* 平仓数量 
</code></pre>
<h3 id="风控规则">风控规则</h3>
<ul>
<li>全仓保证金制度、逐仓保证金制度、限价爆仓制度</li>
<li>全仓保证金制度与逐仓保证金制度，投资者二者只能选其一</li>
<li>全仓保证金: 当用户选择全仓保证金时，用户转入虚拟合约账户的所有余额，所有合约产生的盈亏都将作为合约的持仓保证金</li>
</ul>
<blockquote>
<p>全仓保证金模式下，开仓的要求是10倍杠杆开仓后，保证金率不低于90%，20倍杠杆开仓后，保证金率不低于80%</p>
</blockquote>
<p>所有虚拟合约账户中的BTC和LTC都将作为虚拟合约持仓的保证金，保证金数量将会随价格变化而变动。当虚拟合约价格朝着不利于投资者方向运动时，账户权益即会发生损失。当用户的保证金率变为0%时，账户即被爆仓，此时被爆仓的用户的损失接近或等于其虚拟合约账户中的所有资产。用户通过转入保证金和开仓合约的数量调整时机杠杆倍数。转入的保证金越多，开仓的合约数量越少，虚拟合约的实际杠杆倍数即越小，越不容易被爆仓。</p>
<p>用户的保证金率=用户所有保证金/用户持仓所需的保证金-调整系数。在10倍杠杆时，合约的调整系数=10%，20倍杠杆时，合约的调整系数=20%；当保证金率小于等于0时，账户将被爆仓，所有仓位将被限价强平，未能强平的委托将在交割时进行爆仓分摊</p>
<ul>
<li>
<p>逐仓保证金制度：</p>
<p>用户在合约开仓时所需要的保证金作为虚拟合约持仓的固定保证金，当虚拟合约价格发生变化时，保证金数值不发生变化。当虚拟合约价格朝向不利于用户方向运动时，未实现盈亏将发生损失。当用户的该合约该仓位的保证金率((固定保证金+未实现盈亏) * 开仓均价 * 杠杆 / (合约面值 * 持仓数量) - 调整系数；10倍杠杆，合约的调整系数=10%；20倍杠杆，合约的调整系数=20%，保证金率小于等于0%时，该合约的该仓位将被爆仓，此时被爆仓的用户损失接近或等于其该合约该方向仓位下的固定保证金。</p>
</li>
</ul>
<blockquote>
<p>采用逐仓保证金模式时，每个合约的双向持仓将会独立计算其保证金和收益，只有开仓可用保证金大于等于开仓所需的保证金数量，用户才能进行委托。而逐仓保证金时，每个合约的开仓可用保证金可能不一致。</p>
</blockquote>
<h3 id="委托方式">委托方式</h3>
<h5 id="1-计划委托">1. 计划委托</h5>
<p>计划委托指令指的是预先设置委托和触发条件，当最新的成交价格达到事先设定的触发价格时，即会将事先设置的委托送入市场。</p>
<h5 id="2-跟踪委托">2. 跟踪委托</h5>
<p>跟踪委托指的是在行情发生较大幅度回调的情况下，将客户事先设定的委托送入市场的策略。当市场的最新价格达到投资者设定该策略后最高（最低）市场价格的（1±客户设定回调幅度）后，即会触发客户设定的策略，将客户事先设定的委托送入市场中。</p>
<h5 id="3-冰山委托">3. 冰山委托</h5>
<p>冰山委托指的是投资者在进行大额交易时，为避免对市场造成过大冲击，将大单委托自动拆为多笔委托，根据当前的最新买一/卖一价格和客户设定的价格策略自动进行小单委托，在上一笔委托被全部成交或最新价格明显偏离当前委托价时，自动重新进行委托。</p>
<h5 id="4-时间加权委托">4. 时间加权委托</h5>
<p>时间加权委托指的是客户希望大额交易BTC时，为避免过大冲击成本，通过策略将大单拆细为多个小额委托，根据最新的对手方委托量自动选择委托量，主动与对手方成交进行连续买入的策略。</p>
<h3 id="保证金制度">保证金制度</h3>
<ul>
<li>10倍</li>
<li>20倍</li>
</ul>
<h3 id="手续费">手续费</h3>
<p>开仓和平仓都征收手续费；若 maker 的手续费为负数，意味着您主动挂单为合约提供流动性，平台将赠送您手续费。合约交割手续费不受用户等级影响(BTC收取0.015%，非BTC收取0.05%)；爆仓导致的平仓不收手续费。</p>
<p>等级 近30天交易量(BTC) 挂单成交手续费 吃单成交手续费</p>
<p>Lv1 &lt;10000 0.03% 0.05%</p>
<p>Lv2 ≥10000 0.025% 0.045%</p>
<p>Lv3 ≥20000 0.02% 0.04%</p>
<p>Lv4 ≥30000 0.015% 0.035%</p>
<p>Lv5 ≥60000 0.01% 0.03%</p>
<p>Lv6 ≥100000 0.005% 0.025%</p>
<p>Lv7 ≥200000 0% 0.02%</p>
<p>Lv8 ≥300000 -0.01% 0.02%</p>
<h3 id="借币利息">借币利息</h3>
<ul>
<li>
<p>计息规则：单笔借币订单独立计息。借币成功时首次计息，之后满24小时计息一次。每满15天，系统将未还清借币进行复息结算（未还利息计入下一阶段本金中），并开始下一阶段计息。</p>
</li>
<li>
<p>还币规则：优先还最早生成的借币订单。优先还利息，再还本金。单笔借币订单的本金和应还利息全部还清后，单笔借币订单状态转换为已还清，随后此订单不再计息。</p>
</li>
</ul>
<p>借币日息usdt eth btc 0.1%，其他0.02%，不满一天按一天算</p>
<h3 id="爆仓">爆仓</h3>
<p>用户资产：本金+已借-已产生的利息</p>
<p>负债：所有“已借”资产</p>
<p>风险率=用户资产/负债</p>
<p>当风险率跌到130%将有短信提示接近爆仓水平；当风险率跌到110%单仓将被强平。</p>
<p>风险率：评估币币杠杆账户爆仓风险的指标。当风险率≥150%时，账户中多余的资产部分可通过资金划转转出；当风险率≤130%，风险率评估为风险，系统会给用户发短信提示风险；当风险率≤110%，系统将强制爆仓，并发短信告知用户。</p>
<p>风险率计算公式：风险率=[(计价货币总资产-计价货币未还利息)/最新成交价+(交易货币总资产-交易货币未还利息)]/(计价货币借入资产/最新成交价+交易货币借入资产)*100%</p>
<p>爆仓：当某币币杠杆账户的风险率≤110%时，系统会执行爆仓操作，使用该账户内所有资产去偿还借币债务。</p>
<p>爆仓风险率=110%</p>
<p>预计爆仓价格：在OKEx.com每一笔借币均须交纳一定比例的保证金，当市场发生不利变化，比如市场发生行情逆转，朝相反方向变化时，当前币币杠杆账户总资产缩水到一定限度时，系统会强制将该币币杠杆账户资产按市场最优价格以挂单形式卖出清算借币以及利息。</p>
<p>预计爆仓价格计算公式：预计爆仓价格=(计价货币借入资产*爆仓风险率+计价货币未还利息-计价货币总资产)/(交易货币总资产-交易货币未还利息-交易货币借入资产*爆仓风险率)</p>
<h3 id="其他">其他</h3>
<p>合约限价机制</p>
<ul>
<li>新合约生成10分钟内：最高价=现货指数（1+5%），最低价=现货指数（1-5%）。</li>
<li>合约生成了10分钟后：最高价=近10分钟溢价平均值+现货指数（1+3%）,最低价=近10分钟溢价均值+现货指数（1-3%），溢价=合约价格-现货价格。<br>
若计算后的价格超过最高偏离度的现货指数25%或价格小于0，则最高价=现货指数（1+25%），最低价=现货指数（1-25%）。</li>
<li>以上规则，开平仓都受限制，若开多或平空，当委托价高于最高价，则将触发限价；若开空或平多，当委托价低于最新价，则将触发限价。</li>
</ul>
<h4 id="术语">术语</h4>
<p>清算已实现盈亏：</p>
<p>每周五下午4:00会进行清结算，需要每个合约的本周已实现盈亏结转到用户余额中，此部分金额可以用于开仓和提现。</p>
<p>清算未实现盈亏：</p>
<p>每周五下午4:00会进行清结算，若用户持有次周，季度合约的仓位，则需将仓位中未实盈亏结转到已实现盈亏中。</p>
<p>爆仓平多/平空：</p>
<p>逐仓：当用户将仓位中的”已用保证金“亏完时，则该仓位会被爆仓，系统将该持仓进行强制平仓.</p>
<p>全仓：当用户将账户权益（存入金额+已实现盈亏+未实现盈亏）亏损完后，系统将用户的所有持仓进行强制平仓。</p>
<p>交割平多/交割平空：</p>
<p>当合约到期时（如每周五下午4:00当周合约到期），系统以最近一小时现货指数的算术平均值作为交割价对所有开仓的合约进行交割平仓，交割平仓后产生的盈亏部分加入已实现盈亏。</p>
<p>爆仓平仓剩余：</p>
<p>当用户爆仓时，系统会按爆仓价格进行强制平仓，但在撮合成交时可能与爆仓价格有所偏差，价格偏差所导致的盈余则称之为爆仓平仓剩余。</p>
<p>穿仓分摊：</p>
<p>当市场行情波动较大，用户爆仓后，按照爆仓价格无法成交时，导致亏损范围大于保证金。因此OKEX平台采用“分摊”制度，从本周盈利的用户中，每个人等比例分摊穿仓部分的损失。</p>
<h4 id="合约爆仓问题">合约爆仓问题</h4>
<p><a href="https://support.okex.com/hc/zh-cn/articles/360000139652-%E5%90%88%E7%BA%A6%E7%88%86%E4%BB%93%E9%97%AE%E9%A2%98" target="_blank" rel="noopener">https://support.okex.com/hc/zh-cn/articles/360000139652-合约爆仓问题</a></p>
<h4 id="合约结算交割问题">合约结算交割问题</h4>
<p>交割规则有关于穿仓的介绍</p>
<p><a href="https://support.okex.com/hc/zh-cn/articles/360000105511-%E5%90%88%E7%BA%A6%E7%BB%93%E7%AE%97%E4%BA%A4%E5%89%B2%E9%97%AE%E9%A2%98" target="_blank" rel="noopener">https://support.okex.com/hc/zh-cn/articles/360000105511-合约结算交割问题</a></p>

      

<img src="https://eryk.github.io/uploads/gzh.jpg"  alt="Python量化交易实战" /><center>欢迎您扫码订阅我的微信公众号: pyquant</center>
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://xuqi365.com/2018/05/19/%E3%80%8A%E5%A6%82%E4%BD%95%E9%AA%8C%E8%AF%81%E5%9B%A0%E5%AD%90%E6%9C%89%E6%95%88%E6%80%A7%E3%80%8B%20%E5%90%AC%E8%AF%BE%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="Author">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Python量化交易实战">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2018/05/19/%E3%80%8A%E5%A6%82%E4%BD%95%E9%AA%8C%E8%AF%81%E5%9B%A0%E5%AD%90%E6%9C%89%E6%95%88%E6%80%A7%E3%80%8B%20%E5%90%AC%E8%AF%BE%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">《如何验证因子有效性》 听课笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-05-19 11:29:00" itemprop="dateCreated datePublished" datetime="2018-05-19T11:29:00+08:00">2018-05-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-02-09 01:11:26" itemprop="dateModified" datetime="2020-02-09T01:11:26+08:00">2020-02-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/" itemprop="url" rel="index">
                    <span itemprop="name">策略研究</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1>一维零投资组合</h1>
<p><img src="images/15267001868391.jpg" alt=""></p>
<p><img src="images/15267003855597.jpg" alt=""></p>
<p>先对股票按因子大小排序， nt是top，nb是bottom，nb中停牌的股票跳过停牌的股票，已纳入的股票如果停牌的也不能调出且需要保留仓位</p>
<p><img src="images/15267006658022.jpg" alt=""></p>
<p>公式一：每只股票期末收益累加除以股票数<br>
公式二：计算零投资组合当期收益<br>
公式三：计算累计收益，把第一期净值作为1，连成每期收益率，最后减去1</p>
<p><img src="images/15267011538977.jpg" alt=""><br>
<img src="images/15267014437363.jpg" alt=""><br>
<img src="images/15267154692447.jpg" alt=""><br>
<img src="images/15267155512097.jpg" alt=""><br>
<img src="images/15267163339922.jpg" alt=""><br>
<img src="images/15267164374438.jpg" alt=""></p>
<h1>关键点</h1>
<ul>
<li>PE -&gt; EP，使取值空间连续</li>
<li>停牌</li>
<li>复权（后复权）</li>
</ul>
<h1>自定义股票池</h1>
<p><img src="images/15267167359285.jpg" alt=""></p>
<h1>调仓周期</h1>

      

<img src="https://eryk.github.io/uploads/gzh.jpg"  alt="Python量化交易实战" /><center>欢迎您扫码订阅我的微信公众号: pyquant</center>
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://xuqi365.com/2018/03/29/%E9%80%90%E7%AC%94%EF%BC%8C%E5%88%86%E7%AC%94%EF%BC%8C%E9%80%90%E5%8D%95%EF%BC%8C%E5%88%86%E6%97%B6%E6%95%B0%E6%8D%AE%E6%A6%82%E5%BF%B5%E5%8C%BA%E5%88%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="Author">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Python量化交易实战">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2018/03/29/%E9%80%90%E7%AC%94%EF%BC%8C%E5%88%86%E7%AC%94%EF%BC%8C%E9%80%90%E5%8D%95%EF%BC%8C%E5%88%86%E6%97%B6%E6%95%B0%E6%8D%AE%E6%A6%82%E5%BF%B5%E5%8C%BA%E5%88%AB/" class="post-title-link" itemprop="url">逐笔，分笔，逐单，分时数据概念区别</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-03-29 09:57:00" itemprop="dateCreated datePublished" datetime="2018-03-29T09:57:00+08:00">2018-03-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-02-09 01:11:26" itemprop="dateModified" datetime="2020-02-09T01:11:26+08:00">2020-02-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%87%91%E8%9E%8D/" itemprop="url" rel="index">
                    <span itemprop="name">金融</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>我的微信公众号：pyquant</p>
<p><img src="https://raw.githubusercontent.com/eryk/blog_img/master/20190424095328.jpg" alt=""></p>
<h1>逐笔成交：</h1>
<p>交易过程中的单次成交，是交易过程的真实成交情况。这是Level-2的专有数据，用一个实例来解释这个概念：假设目前的卖一是10元、100手，这时有人以10元委托买入100手，那么这100手是如何成交的呢？这要取决于卖盘由几个委托单构成，如果卖一是一个委托单，那就是一笔成交，即100手；而如果卖一是由40手和60手两笔委托构成，那么这100股就会分成两次成交，即40手一次，60手一次，逐笔成交就是2笔。</p>
<p>一般显示的数据格式为在几分几秒以多少价格分几笔成交了多少手。<strong>在这里我们要注意的是成交手数有时候是带小数点的，这是因为股票买进的股数最少是100股，委托的股数也应是100的整数倍，卖出却没有限制，因此成交的手数会有小数点。</strong> 另外一点就是如果在成交价格和手数前面没有显示，则一半是默认的1笔。</p>
<h1>分笔/分时成交：</h1>
<p>3-5秒一次的行情采集期间累计的成交量和最后的成交价，可能是几笔成交的集合。这是大家长期以来唯一能看到的成交数据.</p>
<p>一般显示的数据格式为在几分几秒以多少价格成交了多少手。**这里需要注意的是成交手数永远是整数，不会出现小数点数字。**其中现手累计数就是总手数。总手数也叫做成交量。有些软件在现量后面标注蓝色S和红色B，前者代表卖，后者代表买。（软件自己根据时间估计主动买还是主动卖）</p>
<p>目前市面上出现了LEVEL-2行情数据，比较具有代表性的是大智慧，在那里把分笔成交是叫分时成交，实际上就是我们在普通分析软件上F1看到的“分笔成交明细”，但是他和LEVEL-2行情数据提供的逐笔成交明细是不一样的。**分笔数据由于是合成混合数据，它是以最后1笔的买卖方向来表示该时间内（3秒或者5秒）的买卖方向。**目前市面上的成交明细数据都是分笔成交，有些号称是LEVEL-2逐笔的明细数据其实也是分笔，即LEVEL-2行情软件里右侧小窗口显示的3秒分笔数据，虽然来自LEVEL-2行情，但仍然是分笔（分时）成交，而不是LEVEL-2行情软件里左侧显示的逐笔成交。因为左侧显示的逐笔成交在LEVEL-2行情软件里是不能保存的，也不能够导出供二次开发。能够导出的只有右侧小窗口里的分笔成交</p>
<h1>逐单/委托单：</h1>
<p>我们每次向系统发出委托时，都有个委托合同编号，这个就是单。例如你一次买2000股股票，则是20手，那么这一单就是20手。但目前每种软件的推测统计都不一致，会导致不同软件显示数据出现差异。</p>
<p>委托单的明细，这是交易所行情系统中没有发布的数据，还以刚才的例子说明，交易所只发出了40手和60手两笔成交（逐笔），并没有指出是一笔100手的买单吃掉了40手、60手两笔卖单。LEVEL-2行情能够根据成交的时间和队列等数据计算出全部已成交的委托单明细，这在交易分析中具有重大意义。（股票盘子越大，推测逐单数据误差越大,因为委托队列只显示前50个委托单;相对来说小盘股的DDE指标更为可靠）</p>
<h1>分时:</h1>
<p>一般指一分钟成交集合;</p>
<h1>问题：</h1>
<p>盘中数据的统计分析长期以来是对分时数据的统计分析，比如最简单的内盘和外盘，大单买入/卖出等，这种统计有两个明显的缺陷：</p>
<p>第一、仅统计了主动成交方单方面的成交数据，而机构交易完全可能在被动成交方</p>
<p>第二、分时数据不是真实的成交数据，大单不一定是大单，可能是很多散户在几秒中之内同时交易的结果，虽然使用level-2的逐笔成交来统计可以避免这一情况的发生，但立即就又产生了新的问题，即一笔真实的大单委托往往被分割成数笔成交，又捕捉不到真实的大单了。</p>
<p>其他：一个孤独的数字是缺乏意义的，但是一些连续的数字则是充满想像的。一般来说，成交手数比较大而集中的时候，表示有大资金活跃迹象，该股出现价格异动的概率就大，应该引起投资者的注意。而如果半天也没人买或者都是一些小单子在交易，则至少短期不大可能成为好股。</p>

      

<img src="https://eryk.github.io/uploads/gzh.jpg"  alt="Python量化交易实战" /><center>欢迎您扫码订阅我的微信公众号: pyquant</center>
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Author"
      src="/uploads/avatar.jpg">
  <p class="site-author-name" itemprop="name">Author</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">59</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">57</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/eryk" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;eryk" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.weibo.com/eryk86" title="Weibo → https:&#x2F;&#x2F;www.weibo.com&#x2F;eryk86" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i>Weibo</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Author</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.7.1
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  


</body>
</html>
